(this.webpackJsonpviergewinnt=this.webpackJsonpviergewinnt||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);for(var r,i,o=n(0),c=n.n(o),l=n(5),u=n.n(l),a=(n(14),n(15),n(2)),s=n(3),f=Object(s.b)({name:"menue",initialState:{spielmodus:"",farbe:"rot",isDisabled:!0,text:"",computerSpielt:"gelb"},reducers:{setSpielmodus:function(e,t){e.spielmodus=t.payload},setComputerSpielt:function(e,t){e.computerSpielt=t.payload},setFarbe:function(e,t){e.farbe=t.payload},setIsDisabled:function(e,t){e.isDisabled=!1},changeText:function(e,t){e.text=t.payload}}}),d=function(e){return"allein"===e.menue.spielmodus?{display:"block"}:{display:"none"}},b=f.reducer,p=f.actions,j=p.setSpielmodus,g=p.setFarbe,h=p.setIsDisabled,O=p.changeText,m=p.setComputerSpielt,v=n(1),y=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.menue.spielmodus})),n=function(){var t=document.querySelector('input[name="spielmodus"]:checked').value;e(j(t))};return Object(o.useEffect)((function(){"allein"===t?e(h(!0)):"zuZweit"===t&&(e(h(!1)),e(m("spieltNicht")))}),[e,t]),Object(v.jsxs)("form",{"data-testid":"spielmodus",children:[Object(v.jsx)("p",{children:"M\xf6chtest du alleine oder zu zweit spielen?"}),Object(v.jsx)("input",{type:"radio",id:"allein",value:"allein",name:"spielmodus",onChange:n,"data-testid":"allein"}),Object(v.jsx)("label",{for:"allein",title:"Du spielst allein gegen den Computer",children:"Allein"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"radio",id:"zuZweit",value:"zuZweit",name:"spielmodus",onChange:n,"data-testid":"zuZweit"}),Object(v.jsx)("label",{for:"zuZweit",title:"Du spielst am selben Computer gegen einen anderen Spieler",children:"Zu zweit"}),Object(v.jsx)("br",{})]})},x=function(){var e=Object(a.b)(),t=Object(a.c)(d),n=function(){var t,n=document.querySelector('input[name="farbe"]:checked').value;t="rot"===n?"gelb":"rot",e(g(n)),e(m(t)),e(h(!1))};return Object(v.jsxs)("form",{className:"farbe",style:t,"data-testid":"farbe",children:[Object(v.jsx)("p",{children:"Wen m\xf6chtest du spielen?"}),Object(v.jsx)("input",{type:"radio",id:"rot",value:"rot",name:"farbe",onChange:n,"data-testid":"rot",checked:!0}),Object(v.jsx)("label",{for:"rot",title:"Du spielst Rot, Rot beginnt",children:"Rot"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"radio",id:"gelb",value:"gelb",name:"farbe",onChange:n,"data-testid":"gelb"}),Object(v.jsx)("label",{for:"gelb",title:"Du spielst Gelb, Rot beginnt",children:"Gelb"}),Object(v.jsx)("br",{})]})},w=[],S=0,Z=1;Z<7;Z++){r=Z;for(var z=1;z<8;z++){i=z;var C="feld"+(++S).toString(),k=void 0;k=6===r,w.push({feldKey:C,row:r,col:i,farbe:"leer",isNextField:k})}}var N=Object(s.b)({name:"spiel",initialState:{felder:w,spieler:"rot",status:"vorSpiel",zug:-1,zugStatus:"bereit",computerZieht:!1},reducers:{resetFelder:function(e,t){e.felder=w},resetSpieler:function(e,t){e.spieler="rot"},resetComputerZieht:function(e,t){var n=t.payload;e.computerZieht="rot"===n},setStatus:function(e,t){e.status=t.payload},setZugStatus:function(e,t){e.zugStatus=t.payload},toggleSpieler:function(e,t){"rot"===e.spieler?e.spieler="gelb":e.spieler="rot"},changeFarbe:function(e,t){var n=e.felder.find((function(e){return e.feldKey===t.payload.feldKey})),r=t.payload.farbe;n.farbe=r},setZug:function(e,t){"add"===t.payload?e.zug++:"reset"===t.payload&&(e.zug=0)},changeIsNextField:function(e,t){e.felder.find((function(e){return e.feldKey===t.payload})).isNextField=!1},changeToNextField:function(e,t){e.felder.find((function(e){return e.feldKey===t.payload})).isNextField=!0},toggleHasWon:function(e,t){e.hasWon=!0},toggleComputerZieht:function(e,t){e.computerZieht?e.computerZieht=!1:e.computerZieht=!0}}}),K=N.reducer,F=N.actions,D=F.resetFelder,W=F.resetSpieler,R=F.resetComputerZieht,M=F.toggleSpieler,E=F.setZugStatus,I=F.changeFarbe,A=F.changeIsNextField,T=F.changeToNextField,G=(F.setWinner,F.setStatus),q=F.setZug,B=F.toggleComputerZieht,J=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.menue.isDisabled})),n=Object(a.c)((function(e){return e.menue.computerSpielt}));return Object(v.jsx)("button",{type:"button",id:"los",onClick:function(){e(D()),e(W()),e(R(n)),e(G("laufend")),e(q("reset"))},disabled:t,title:"Startet neues Spiel",children:"Los!"})},V=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.spiel.status})),n=Object(a.c)((function(e){return e.menue.text}));return Object(o.useEffect)((function(){var n;"rotWon"===t?n="Rot hat gewonnen!":"gelbWon"===t?n="Gelb hat gewonnen!":"draw"===t&&(n="Unentschieden!"),e(O(n))}),[t,e]),Object(v.jsx)("p",{className:"anzeige",children:n})},H=function(){return Object(v.jsxs)("div",{className:"menue",children:[Object(v.jsx)(y,{}),Object(v.jsx)(x,{}),Object(v.jsx)(J,{}),Object(v.jsx)(V,{})]})},L=n(6),P=(n(23),function(e){var t=Object(a.b)(),n=e.row,r=e.col,i=e.feldKey,o="".concat(n," / ").concat(r," / ").concat(n," / ").concat(r),c=Object(a.c)((function(e){return e.spiel.spieler})),l=Object(a.c)((function(e){return e.spiel.felder})),u=l.find((function(e){return e.feldKey===i})),s=u.farbe,f=u.isNextField,d=Object(a.c)((function(e){return e.spiel.status})),b=Object(a.c)((function(e){return e.spiel.computerZieht})),p={gridArea:o,backgroundColor:function(){var e;return"rot"===s?e="red":"gelb"===s?e="yellow":"leer"===s&&(e="white"),e}()};return Object(v.jsx)("div",{className:"feld",style:p,onMouseOver:function(e){var t,n=e.target;f&&"laufend"===d&&!b&&(t="rot"===c?"red":"yellow",n.style.backgroundColor=t,n.style.cursor="pointer",n.style.border="orange 2px solid")},onMouseOut:function(e){var t=e.target;"leer"===s&&(t.style.backgroundColor="white",t.style.border="none",t.style.cursor="unset")},onClick:function(e){var o=e.target;if(f&&"laufend"===d&&!b){if(o.style.border="none",o.style.cursor="unset",t(I({feldKey:i,farbe:c})),t(A(i)),n>1){var u=l.find((function(e){return e.row===n-1&&e.col===r})).feldKey;t(T(u))}t(E("gezogen"))}},onMouseDown:function(e){var t,n=e.target;f&&"laufend"===d&&!b&&(t="rot"===c?"darkred":"goldenrod",n.style.backgroundColor=t)},"data-testid":i},i)}),U=n(4),$=function(e,t,n){return e.find((function(e){return e.row===t&&e.col===n}))},Q=function(e,t,n,r,i,o){var c,l,u,a,s,f,d,b;switch(i){case"down":c=t,l=t+1,u=t+2,a=t+3,s=e,f=e,d=e,b=e;break;case"right":c=t,l=t,u=t,a=t,s=e,f=e+1,d=e+2,b=e+3;break;case"downRight":c=t,l=t+1,u=t+2,a=t+3,s=e,f=e+1,d=e+2,b=e+3;break;case"upRight":c=t,l=t-1,u=t-2,a=t-3,s=e,f=e+1,d=e+2,b=e+3}var p=$(n,c,s),j=$(n,l,f),g=$(n,u,d),h=$(n,a,b);return p.farbe===r&&j.farbe===r&&g.farbe===r&&h.farbe===r},X=function(e,t){for(var n=!1,r="down",i=1;i<8;i++)for(var o=1;o<4;o++)if(n=Q(i,o,e,t,r))return n;r="right";for(var c=1;c<5;c++)for(var l=1;l<7;l++)if(n=Q(c,l,e,t,r))return n;r="downRight";for(var u=1;u<5;u++)for(var a=1;a<4;a++)if(n=Q(u,a,e,t,r))return n;r="upRight";for(var s=1;s<5;s++)for(var f=4;f<7;f++)if(n=Q(s,f,e,t,r))return n;return n},Y=function(e,t,n){return e.map((function(e){return e.feldKey===t.feldKey?Object(U.a)(Object(U.a)({},e),{},{farbe:n}):e}))},_=function(e,t,n){var r,i=Object(L.a)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,c=Y(e,o,n);if(X(c,n))return o}}catch(l){i.e(l)}finally{i.f()}},ee=function(e,t,n,r,i){var o;o=i===n?n:r;var c=Y(e,t,n),l=e.find((function(e){return e.row===t.row-1&&e.col===t.col}));return c=Y(c,l,o),X(c,o)},te=function(){var e=Object(a.c)((function(e){return e.spiel.felder})),t=function(){var t,n=[],r=Object(L.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.row,c=i.col,l=i.feldKey,u=Object(v.jsx)(P,{feldKey:l,row:o,col:c});n.push(u)}}catch(a){r.e(a)}finally{r.f()}return n}(),n=Object(a.b)(),r=Object(a.c)((function(e){return e.spiel.felder})),i=Object(a.c)((function(e){return e.spiel.status})),c=Object(a.c)((function(e){return e.spiel.zugStatus})),l=Object(a.c)((function(e){return e.spiel.spieler})),u=Object(a.c)((function(e){return e.spiel.zug})),s=Object(a.c)((function(e){return e.menue.computerSpielt})),f=Object(a.c)((function(e){return e.spiel.computerZieht}));return Object(o.useEffect)((function(){"laufend"===i&&"gezogen"===c&&(n(E("bereit")),X(r,l)?n(G("rot"===l?"rotWon":"gelbWon")):41===u?n(G("draw")):(n(q("add")),n(M()),"spieltNicht"!==s&&n(B())))}),[s,n,r,l,i,u,c]),Object(o.useEffect)((function(){if("laufend"===i&&"bereit"===c&&f){var e=function(e,t){var n,r;r="rot"===t?"gelb":"rot";var i=e.filter((function(e){return e.isNextField}));if(n=_(e,i,t))return n;if(n=_(e,i,r))return n;var o=i.filter((function(n){return 1===n.row||!ee(e,n,t,r,r)}));return o.length>0&&(i=o),(o=i.filter((function(n){return 1===n.row||!ee(e,n,t,r,t)}))).length>0&&(i=o),2===e.filter((function(e){return 6===e.row&&e.farbe===r})).length&&0===e.filter((function(e){return 6===e.row&&e.farbe===t})).length&&(i=i.filter((function(e){return 6===e.row&&e.col>1&&e.col<7}))),i.find((function(e){return 4===e.col&&1!==e.row}))?i.find((function(e){return 4===e.col})):i[Math.floor(Math.random()*i.length)]}(r,l),t=e.feldKey,o=e.row,u=e.col;if(n(I({feldKey:t,farbe:l})),n(A(t)),o>1){var a=r.filter((function(e){return e.row===o-1&&e.col===u}))[0].feldKey;n(T(a))}n(E("gezogen"))}}),[f,n,r,l,i,u,c]),Object(v.jsx)("div",{className:"spiel","data-testid":"spiel",children:t})};n(24);var ne=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)("h1",{children:"Vier gewinnt!"}),Object(v.jsx)("p",{children:"Spiele eine Partie Vier gewinnt!"})]}),Object(v.jsxs)("main",{children:[Object(v.jsx)(H,{}),Object(v.jsx)(te,{})]}),Object(v.jsx)("footer",{children:Object(v.jsx)("p",{children:"Created by Michael Oberst"})})]})},re=Object(s.a)({reducer:{menue:b,spiel:K}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(a.a,{store:re,children:Object(v.jsx)(ne,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.31fa60ce.chunk.js.map